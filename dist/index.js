!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";(function(t){function r(){return"object"==typeof navigator&&"userAgent"in navigator?navigator.userAgent:"object"==typeof t&&"version"in t?`Node.js/${t.version.substr(1)} (${t.platform}; ${t.arch})`:"<environment undetectable>"}n.d(e,"a",(function(){return r}))}).call(this,n(1))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,h=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!l){var t=a(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}},function(t,e,n){"use strict";const r=n(10),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),h=Symbol("lruList"),p=Symbol("cache"),f=Symbol("updateAgeOnGet"),d=()=>1;const g=(t,e,n)=>{const r=t[p].get(e);if(r){const e=r.value;if(m(t,e)){if(y(t,r),!t[a])return}else n&&(t[f]&&(r.value.now=Date.now()),t[h].unshiftNode(r));return e.value}},m=(t,e)=>{if(!e||!e.maxAge&&!t[u])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[u]&&n>t[u]},v=t=>{if(t[o]>t[i])for(let e=t[h].tail;t[o]>t[i]&&null!==e;){const n=e.prev;y(t,e),e=n}},y=(t,e)=>{if(e){const n=e.value;t[c]&&t[c](n.key,n.value),t[o]-=n.length,t[p].delete(n.key),t[h].removeNode(e)}};class b{constructor(t,e,n,r,i){this.key=t,this.value=e,this.length=n,this.now=r,this.maxAge=i||0}}const w=(t,e,n,r)=>{let i=n.value;m(t,i)&&(y(t,n),t[a]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;const e=t.length||d;if(this[s]="function"!=typeof e?d:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0,this[c]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[f]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[i]=t||1/0,v(this)}get max(){return this[i]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[u]=t,v(this)}get maxAge(){return this[u]}set lengthCalculator(t){"function"!=typeof t&&(t=d),t!==this[s]&&(this[s]=t,this[o]=0,this[h].forEach(t=>{t.length=this[s](t.value,t.key),this[o]+=t.length})),v(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[h].length}rforEach(t,e){e=e||this;for(let n=this[h].tail;null!==n;){const r=n.prev;w(this,t,n,e),n=r}}forEach(t,e){e=e||this;for(let n=this[h].head;null!==n;){const r=n.next;w(this,t,n,e),n=r}}keys(){return this[h].toArray().map(t=>t.key)}values(){return this[h].toArray().map(t=>t.value)}reset(){this[c]&&this[h]&&this[h].length&&this[h].forEach(t=>this[c](t.key,t.value)),this[p]=new Map,this[h]=new r,this[o]=0}dump(){return this[h].map(t=>!m(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[h]}set(t,e,n){if((n=n||this[u])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[s](e,t);if(this[p].has(t)){if(a>this[i])return y(this,this[p].get(t)),!1;const s=this[p].get(t).value;return this[c]&&(this[l]||this[c](t,s.value)),s.now=r,s.maxAge=n,s.value=e,this[o]+=a-s.length,s.length=a,this.get(t),v(this),!0}const f=new b(t,e,a,r,n);return f.length>this[i]?(this[c]&&this[c](t,e),!1):(this[o]+=f.length,this[h].unshift(f),this[p].set(t,this[h].head),v(this),!0)}has(t){if(!this[p].has(t))return!1;const e=this[p].get(t).value;return!m(this,e)}get(t){return g(this,t,!0)}peek(t){return g(this,t,!1)}pop(){const t=this[h].tail;return t?(y(this,t),t.value):null}del(t){y(this,this[p].get(t))}load(t){this.reset();const e=Date.now();for(let n=t.length-1;n>=0;n--){const r=t[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const t=i-e;t>0&&this.set(r.k,r.v,t)}}}prune(){this[p].forEach((t,e)=>g(this,e,!1))}}},function(t,e,n){var r=n(12);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}t.exports=r(i),t.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(t,e,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();t.exports=e=r.fetch,e.default=r.fetch.bind(r),e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response},function(t,e,n){const r=n(7),{createAppAuth:i}=n(13),o=r.getInput("app_id"),s=r.getInput("private_key"),a=r.getInput("app_installation_id"),u=r.getInput("client_id"),c=r.getInput("client_secret")(async()=>{try{const t=i({id:o,privateKey:s,installationId:a,clientId:u,clientSecret:c}),e=await t({type:"installation "});r.setSecret(e),r.setOutput("installation_token",e.token)}catch(t){r.setFailed(t.message)}})()},function(t,e,n){"use strict";(function(t){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=n(8),s=i(n(2)),a=i(n(9));var u;function c(t){o.issue("error",t instanceof Error?t.toString():t)}function l(t){o.issue("group",t)}function h(){o.issue("endgroup")}!function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"}(u=e.ExitCode||(e.ExitCode={})),e.exportVariable=function(e,n){const r=o.toCommandValue(n);t.env[e]=r,o.issueCommand("set-env",{name:e},r)},e.setSecret=function(t){o.issueCommand("add-mask",{},t)},e.addPath=function(e){o.issueCommand("add-path",{},e),t.env.PATH=`${e}${a.delimiter}${t.env.PATH}`},e.getInput=function(e,n){const r=t.env["INPUT_"+e.replace(/ /g,"_").toUpperCase()]||"";if(n&&n.required&&!r)throw new Error("Input required and not supplied: "+e);return r.trim()},e.setOutput=function(t,e){o.issueCommand("set-output",{name:t},e)},e.setCommandEcho=function(t){o.issue("echo",t?"on":"off")},e.setFailed=function(e){t.exitCode=u.Failure,c(e)},e.isDebug=function(){return"1"===t.env.RUNNER_DEBUG},e.debug=function(t){o.issueCommand("debug",{},t)},e.error=c,e.warning=function(t){o.issue("warning",t instanceof Error?t.toString():t)},e.info=function(e){t.stdout.write(e+s.EOL)},e.startGroup=l,e.endGroup=h,e.group=function(t,e){return r(this,void 0,void 0,(function*(){let n;l(t);try{n=yield e()}finally{h()}return n}))},e.saveState=function(t,e){o.issueCommand("save-state",{name:t},e)},e.getState=function(e){return t.env["STATE_"+e]||""}}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(2));function o(e,n,r){const o=new s(e,n,r);t.stdout.write(o.toString()+i.EOL)}e.issueCommand=o,e.issue=function(t,e=""){o(t,{},e)};class s{constructor(t,e,n){t||(t="missing.command"),this.command=t,this.properties=e,this.message=n}toString(){let t="::"+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let n=!0;for(const r in this.properties)if(this.properties.hasOwnProperty(r)){const i=this.properties[r];i&&(n?n=!1:t+=",",t+=`${r}=${e=i,a(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}`)}}var e;return t+="::"+function(t){return a(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}(this.message),t}}function a(t){return null==t?"":"string"==typeof t||t instanceof String?t:JSON.stringify(t)}e.toCommandValue=a}).call(this,n(1))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),s="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(1))},function(t,e,n){"use strict";function r(t){var e=this;if(e instanceof r||(e=new r),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)e.push(arguments[n]);return e}function i(t,e,n){var r=e===t.head?new a(n,null,e,t):new a(n,e,e.next,t);return null===r.next&&(t.tail=r),null===r.prev&&(t.head=r),t.length++,r}function o(t,e){t.tail=new a(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function s(t,e){t.head=new a(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function a(t,e,n,r){if(!(this instanceof a))return new a(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e},r.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},r.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},r.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},r.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},r.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},r.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},r.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;null!==n;r++)t.call(e,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;null!==n;r--)t.call(e,n.value,r,this),n=n.prev},r.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},r.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},r.prototype.map=function(t,e){e=e||this;for(var n=new r,i=this.head;null!==i;)n.push(t.call(e,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(t,e){e=e||this;for(var n=new r,i=this.tail;null!==i;)n.push(t.call(e,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=t(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=t(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},r.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},r.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,o=this.head;null!==o&&r<t;r++)o=o.next;var s=[];for(r=0;o&&r<e;r++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(r=0;r<n.length;r++)o=i(this,o,n[r]);return s},r.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};try{n(11)(r)}catch(t){}},function(t,e,n){"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},function(t,e){t.exports=function t(e,n){if(e&&n)return t(e)(n);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){r[t]=e[t]})),r;function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(t){r[t]=i[t]})),r}}},function(t,e,n){"use strict";n.r(e),n.d(e,"createAppAuth",(function(){return z}));var r=n(0);
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function i(t){return"[object Object]"===Object.prototype.toString.call(t)}var o=function(t){var e,n;return!1!==i(t)&&(void 0===(e=t.constructor)||!1!==i(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))};function s(t,e,n){if("string"==typeof e){let[t,r]=e.split(" ");n=Object.assign(r?{method:t,url:r}:{url:t},n)}else n=Object.assign({},e);var r;n.headers=(r=n.headers)?Object.keys(r).reduce((t,e)=>(t[e.toLowerCase()]=r[e],t),{}):{};const i=function t(e,n){const r=Object.assign({},e);return Object.keys(n).forEach(i=>{o(n[i])?i in e?r[i]=t(e[i],n[i]):Object.assign(r,{[i]:n[i]}):Object.assign(r,{[i]:n[i]})}),r}(t||{},n);return t&&t.mediaType.previews.length&&(i.mediaType.previews=t.mediaType.previews.filter(t=>!i.mediaType.previews.includes(t)).concat(i.mediaType.previews)),i.mediaType.previews=i.mediaType.previews.map(t=>t.replace(/-preview/,"")),i}const a=/\{[^}]+\}/g;function u(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function c(t,e){return Object.keys(t).filter(t=>!e.includes(t)).reduce((e,n)=>(e[n]=t[n],e),{})}function l(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map((function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t})).join("")}function h(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function p(t,e,n){return e="+"===t||"#"===t?l(e):h(e),n?h(n)+"="+e:e}function f(t){return null!=t}function d(t){return";"===t||"&"===t||"?"===t}function g(t,e){var n=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,(function(t,r,i){if(r){let t="";const i=[];if(-1!==n.indexOf(r.charAt(0))&&(t=r.charAt(0),r=r.substr(1)),r.split(/,/g).forEach((function(n){var r=/([^:\*]*)(?::(\d+)|(\*))?/.exec(n);i.push(function(t,e,n,r){var i=t[n],o=[];if(f(i)&&""!==i)if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)i=i.toString(),r&&"*"!==r&&(i=i.substring(0,parseInt(r,10))),o.push(p(e,i,d(e)?n:""));else if("*"===r)Array.isArray(i)?i.filter(f).forEach((function(t){o.push(p(e,t,d(e)?n:""))})):Object.keys(i).forEach((function(t){f(i[t])&&o.push(p(e,i[t],t))}));else{const t=[];Array.isArray(i)?i.filter(f).forEach((function(n){t.push(p(e,n))})):Object.keys(i).forEach((function(n){f(i[n])&&(t.push(h(n)),t.push(p(e,i[n].toString())))})),d(e)?o.push(h(n)+"="+t.join(",")):0!==t.length&&o.push(t.join(","))}else";"===e?f(i)&&o.push(h(n)):""!==i||"&"!==e&&"?"!==e?""===i&&o.push(""):o.push(h(n)+"=");return o}(e,t,r[1],r[2]||r[3]))})),t&&"+"!==t){var o=",";return"?"===t?o="&":"#"!==t&&(o=t),(0!==i.length?t:"")+i.join(o)}return i.join(",")}return l(i)}))}function m(t){let e,n=t.method.toUpperCase(),r=(t.url||"/").replace(/:([a-z]\w+)/g,"{+$1}"),i=Object.assign({},t.headers),o=c(t,["method","baseUrl","url","headers","request","mediaType"]);const s=function(t){const e=t.match(a);return e?e.map(u).reduce((t,e)=>t.concat(e),[]):[]}(r);var l;r=(l=r,{expand:g.bind(null,l)}).expand(o),/^http/.test(r)||(r=t.baseUrl+r);const h=c(o,Object.keys(t).filter(t=>s.includes(t)).concat("baseUrl"));if(!/application\/octet-stream/i.test(i.accept)&&(t.mediaType.format&&(i.accept=i.accept.split(/,/).map(e=>e.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,"application/vnd$1$2."+t.mediaType.format)).join(",")),t.mediaType.previews.length)){const e=i.accept.match(/[\w-]+(?=-preview)/g)||[];i.accept=e.concat(t.mediaType.previews).map(e=>`application/vnd.github.${e}-preview${t.mediaType.format?"."+t.mediaType.format:"+json"}`).join(",")}return["GET","HEAD"].includes(n)?r=function(t,e){const n=/\?/.test(t)?"&":"?",r=Object.keys(e);return 0===r.length?t:t+n+r.map(t=>"q"===t?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${t}=${encodeURIComponent(e[t])}`).join("&")}(r,h):"data"in h?e=h.data:Object.keys(h).length?e=h:i["content-length"]=0,i["content-type"]||void 0===e||(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(n)&&void 0===e&&(e=""),Object.assign({method:n,url:r,headers:i},void 0!==e?{body:e}:null,t.request?{request:t.request}:null)}function v(t,e,n){return m(s(t,e,n))}const y=function t(e,n){const r=s(e,n),i=v.bind(null,r);return Object.assign(i,{DEFAULTS:r,defaults:t.bind(null,r),merge:s.bind(null,r),parse:m})}(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":"octokit-endpoint.js/6.0.5 "+Object(r.a)()},mediaType:{format:"",previews:[]}});var b=n(5),w=n.n(b);class A extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var x=n(4);const j=n.n(x)()(t=>console.warn(t));class k extends Error{constructor(t,e,n){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=e,Object.defineProperty(this,"code",{get:()=>(j(new A("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),e)}),this.headers=n.headers||{};const r=Object.assign({},n.request);n.request.headers.authorization&&(r.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}}function S(t){(o(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let e,n,r={};return(t.request&&t.request.fetch||w.a)(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(i=>{n=i.url,e=i.status;for(const t of i.headers)r[t[0]]=t[1];if(204===e||205===e)return;if("HEAD"===t.method){if(e<400)return;throw new k(i.statusText,e,{headers:r,request:t})}if(304===e)throw new k("Not modified",e,{headers:r,request:t});if(e>=400)return i.text().then(n=>{const i=new k(n,e,{headers:r,request:t});try{let t=JSON.parse(i.message);Object.assign(i,t);let e=t.errors;i.message=i.message+": "+e.map(JSON.stringify).join(", ")}catch(t){}throw i});const o=i.headers.get("content-type");return/application\/json/.test(o)?i.json():!o||/^text\/|charset=utf-8$/.test(o)?i.text():function(t){return t.arrayBuffer()}(i)}).then(t=>({status:e,url:n,headers:r,data:t})).catch(e=>{if(e instanceof k)throw e;throw new k(e.message,500,{headers:r,request:t})})}const E=function t(e,n){const r=e.defaults(n);return Object.assign((function(e,n){const i=r.merge(e,n);if(!i.request||!i.request.hook)return S(r.parse(i));const o=(t,e)=>S(r.parse(r.merge(t,e)));return Object.assign(o,{endpoint:r,defaults:t.bind(null,r)}),i.request.hook(o,i)}),{endpoint:r,defaults:t.bind(null,r)})}(y,{headers:{"user-agent":"octokit-request.js/5.4.7 "+Object(r.a)()}});function O(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function T(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){O(o,r,i,s,a,"next",t)}function a(t){O(o,r,i,s,a,"throw",t)}s(void 0)}))}}function _(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0,i=t.length;r<i;r++)n[r]=t.charCodeAt(r);return e}function I(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function C(t){return I(btoa(JSON.stringify(t)))}var q=function(){var t=T((function*(t){var{privateKey:e,payload:n}=t;if(/BEGIN RSA PRIVATE KEY/.test(e))throw new Error("[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#readme");var r,i={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},o=(r=e.trim().split("\n").slice(1,-1).join(""),_(atob(r))),s=yield crypto.subtle.importKey("pkcs8",o,i,!1,["sign"]),a=function(t,e){return"".concat(C({alg:"RS256",typ:"JWT"}),".").concat(C(e))}(0,n),u=_(a),c=function(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;i<r;i++)e+=String.fromCharCode(n[i]);return I(btoa(e))}(yield crypto.subtle.sign(i.name,s,u));return"".concat(a,".").concat(c)}));return function(e){return t.apply(this,arguments)}}();function P(){return(P=T((function*(t){var{id:e,privateKey:n}=t,r=Math.floor(Date.now()/1e3)-30,i=r+600,o={iat:r,exp:i,iss:e};return{appId:e,expiration:i,token:yield q({privateKey:n,payload:o})}}))).apply(this,arguments)}var $=n(3),N=n.n($);async function D(t,e){const n=await function(t){return P.apply(this,arguments)}({id:t,privateKey:e});return{type:"app",token:n.token,appId:n.appId,expiresAt:new Date(1e3*n.expiration).toISOString()}}function R({installationId:t,permissions:e={},repositoryIds:n=[]}){const r=Object.keys(e).sort().map(t=>"read"===e[t]?t:t+"!").join(",");return[t,n.sort().join(","),r].filter(Boolean).join("|")}function U({installationId:t,token:e,createdAt:n,expiresAt:r,repositorySelection:i,permissions:o,repositoryIds:s,singleFileName:a}){return Object.assign({type:"token",tokenType:"installation",token:e,installationId:t,permissions:o,createdAt:n,expiresAt:r,repositorySelection:i},s?{repositoryIds:s}:null,a?{singleFileName:a}:null)}async function F(t,e,n){const r=e.installationId||t.installationId;if("number"!=typeof r)throw new Error("[@octokit/auth-app] installationId option is required for installation authentication.");const i=Object.assign({installationId:r},e);if(!e.refresh){const e=await async function(t,e){const n=R(e),r=await t.get(n);if(!r)return;const[i,o,s,a,u,c]=r.split("|");if(!e.permissions&&void 0===u)throw new Error(`[@octokit/auth-app] Invalid cache. Key: ${n}. Result: ${r}`);return{token:i,createdAt:o,expiresAt:s,permissions:e.permissions||u.split(/,/).reduce((t,e)=>(/!$/.test(e)?t[e.slice(0,-1)]="write":t[e]="read",t),{}),repositoryIds:e.repositoryIds,singleFileName:c,repositorySelection:a}}(t.cache,i);if(e){const{token:t,createdAt:n,expiresAt:i,permissions:o,repositoryIds:s,singleFileName:a,repositorySelection:u}=e;return U({installationId:r,token:t,createdAt:n,expiresAt:i,permissions:o,repositorySelection:u,repositoryIds:s,singleFileName:a})}}const o=await D(t.id,t.privateKey),s=n||t.request,{data:{token:a,expires_at:u,repositories:c,permissions:l,repository_selection:h,single_file:p}}=await s("POST /app/installations/:installation_id/access_tokens",{installation_id:r,repository_ids:e.repositoryIds,permissions:e.permissions,mediaType:{previews:["machine-man"]},headers:{authorization:"bearer "+o.token}}),f=c?c.map(t=>t.id):void 0,d=(new Date).toISOString();return await async function(t,e,n){const r=R(e),i=e.permissions?"":Object.keys(n.permissions).map(t=>`${t}${"write"===n.permissions[t]?"!":""}`).join(","),o=[n.token,n.createdAt,n.expiresAt,n.repositorySelection,i,n.singleFileName].join("|").replace(/\|+$/,"");await t.set(r,o)}(t.cache,i,{token:a,createdAt:d,expiresAt:u,repositorySelection:h,permissions:l,repositoryIds:f,singleFileName:p}),U({installationId:r,token:a,createdAt:d,expiresAt:u,repositorySelection:h,permissions:l,repositoryIds:f,singleFileName:p})}async function L(t,e){return"app"===e.type?D(t.id,t.privateKey):"installation"===e.type?F(t,e):async function(t,e,n){const r=n||t.request,i=/^https:\/\/(api\.)?github\.com$/.test(t.request.endpoint.DEFAULTS.baseUrl)?"POST https://github.com/login/oauth/access_token":"POST "+t.request.endpoint.DEFAULTS.baseUrl.replace("/api/v3","/login/oauth/access_token"),o={headers:{accept:"application/json"},client_id:t.clientId,client_secret:t.clientSecret,code:e.code,state:e.state,redirect_uri:e.redirectUrl},s=await r(i,o);if(void 0!==s.data.error)throw new k(`${s.data.error_description} (${s.data.error})`,s.status,{headers:s.headers,request:r.endpoint(i,o)});const{data:{access_token:a,scope:u}}=s;return{type:"token",tokenType:"oauth",token:a,scopes:u.split(/,\s*/).filter(Boolean)}}(t,e)}const K=function(t){const e=`^(?:${t.map(t=>t.split("/").map(t=>t.startsWith(":")?"(?:.+?)":t).join("/")).map(t=>`(?:${t})`).join("|")})[^/]*$`;return new RegExp(e,"i")}(["/app","/app/installations","/app/installations/:installation_id","/app/installations/:installation_id/access_tokens","/marketplace_listing/accounts/:account_id","/marketplace_listing/plan","/marketplace_listing/plans/:plan_id/accounts","/marketplace_listing/stubbed/accounts/:account_id","/marketplace_listing/stubbed/plan","/marketplace_listing/stubbed/plans/:plan_id/accounts","/orgs/:org/installation","/repos/:owner/:repo/installation","/users/:username/installation"]);async function M(t,e,n,r){let i=e.endpoint.merge(n,r);if((o=i.url.replace(e.endpoint.DEFAULTS.baseUrl,""))&&K.test(o)){const{token:n}=await D(t.id,t.privateKey);return i.headers.authorization="bearer "+n,e(i)}var o;const{token:s,createdAt:a}=await F(t,{},e);return i.headers.authorization="token "+s,async function t(e,n,r,i=0){const o=+new Date-+new Date(r);try{return await e(n)}catch(s){if(401!==s.status)throw s;if(o>=6e4)throw s;const a=++i*i*1e3;return console.warn(`[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${i}, wait: ${a}ms)`),await new Promise(t=>setTimeout(t,a)),t(e,n,r,i)}}(e,i,a)}const z=function(t){const e=Object.assign({request:E.defaults({headers:{"user-agent":"octokit-auth-app.js/2.4.13 "+Object(r.a)()}}),cache:new N.a({max:15e3,maxAge:354e4})},t);return Object.assign(L.bind(null,e),{hook:M.bind(null,e)})}}]);